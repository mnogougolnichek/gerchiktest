"use strict";!function(){function i(i){var t=i.app,s=i.input,e=i.list,n=i.movieDetails;this.app=t,this.input=s,this.list=e,this.movieDetails=n,this.data=[],this.init()}document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("app"),s=t.querySelector(".js-app__list"),e=t.querySelector(".js-app__input"),n=t.querySelector(".js-app__movie-details");new i({app:t,input:e,list:s,movieDetails:n})}),i.prototype.init=function(){var i=this;this.search(),this.app.addEventListener("click",function(t){t.target.classList.contains("js-app__list-item")&&i.renderDetails(+t.target.id)})},i.prototype.getData=function(i){var t=this;fetch("https://api.tvmaze.com/search/shows?q="+i).then(function(i){return i.json()}).then(function(i){t.data=i,t.renderList()})},i.prototype.renderList=function(){this.list.innerHTML="",this.movieDetails.innerHTML="";for(var i=0;i<this.data.length;i++){var t=this.data[i].show.image?this.data[i].show.image.medium:"images/placeholder.jpg",s=this.data[i].show.premiered?this.data[i].show.premiered.substring(0,4):"Unknown";this.list.innerHTML+=this.listItemTmpl(this.data[i].show.id,t,this.data[i].show.name,s)}},i.prototype.search=function(){var i=this;this.input.addEventListener("input",function(){""!==i.searchValue&&i.getData(i.input.value)})},i.prototype.renderDetails=function(i){this.list.innerHTML="";for(var t=0;t<this.data.length;t++)this.data[t].show.id===i&&(this.movieDetails.innerHTML=this.movieDetailsTmpl(this.data[t]))},i.prototype.listItemTmpl=function(i,t,s,e){return'<li class="js-app__list-item app__list-item" id="'+i+'">\n               <img src="'+t+'" class="app__image">\n               <div class="app__description">\n                   <div>\n                       <span class="app__description-name">'+s+'</span>\n                   </div>\n                   <div>\n                       <span class="app__description-year">'+e+"</span>\n                   </div>     \n               </div>\n    </li>\n    "},i.prototype.movieDetailsTmpl=function(i){var t=i.show.id,s=i.show.image?i.show.image.medium:"images/placeholder.jpg",e=i.show.premiered?i.show.premiered.substring(0,4):"Unknown";return'<div class="app__movie-details-content" id="'+t+'">\n               <div class="app__description app__description--details">\n               <img src="'+s+'" class="app__image--details">\n                   <div>\n                       <span class="app__description-name--details">'+i.show.name+'</span>\n                   </div>\n                   <ul class="app__description-details-list">\n                       <li>Premiere: <span>'+e+"</span></li>\n                       <li>Language: <span>"+i.show.language+"</span></li>\n                       <li>Runtime: <span>"+i.show.runtime+"</span></li>\n                   </ul>    \n                   "+(i.show.summary?i.show.summary:"")+"\n               </div>\n    </div>\n    "}}();